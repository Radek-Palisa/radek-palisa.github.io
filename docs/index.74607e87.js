class t{constructor(t){this.outerWrapperClass=t.outerWrapperClass,this.wrapperClass=t.wrapperClass,this.itemClass=t.itemClass,this.headersClass=t.headersClass,this.panelsClass=t.panelsClass,this.transitionSpeed=t.speed,this.panelData=[]}init(){this.initPanelData(this.firstToBeExpanded),this.cacheDOMelements(),this.setControlIdentifiers(),this.outerWrapper.classList.add(`${this.outerWrapperClass}-js`),this.setHeights(),this.setListeners(),function(t,e){t.forEach((function(e,s){e.setAttribute("aria-controls",`sec${s+1}`),e.setAttribute("id",`ctrl${s+1}`),s===t.length-1?(e.setAttribute("aria-expanded","true"),e.setAttribute("aria-disabled","true")):(e.setAttribute("aria-expanded","false"),e.setAttribute("aria-disabled","false"))})),e.forEach((function(t,e){t.setAttribute("labelledby",`ctrl${e+1}`),t.setAttribute("id",`sec${e+1}`),t.setAttribute("role","region"),0===e?t.setAttribute("aria-hidden","false"):t.setAttribute("aria-hidden","true")}))}(this.controls,this.panelData.map((t=>t.el)))}initPanelData(){const t=Array.prototype.slice.call(document.querySelectorAll(`.${this.panelsClass}`));t.forEach(((e,s)=>{const i={idx:s,el:e,isExpanded:s===t.length-1,height:null};this.panelData.push(i)}))}cacheDOMelements(){this.outerWrapper=document.querySelector(`.${this.outerWrapperClass}`),this.wrapper=document.querySelector(`.${this.wrapperClass}`),this.controls=Array.prototype.slice.call(document.querySelectorAll(`.${this.headersClass}`))}setControlIdentifiers(){this.controls.forEach(((t,e)=>{t.setAttribute("data-id",e)}))}setListeners(){this.controls.forEach((t=>{t.addEventListener("click",this.handleClick.bind(this))})),window.addEventListener("resize",function(t,e,s){let i;return function(){const a=this,r=arguments,n=function(){i=null,s||t.apply(a,r)},l=s&&!i;clearTimeout(i),i=setTimeout(n,e),l&&t.apply(a,r)}}(this.setHeights,50).bind(this)),this.wrapper.addEventListener("keydown",(t=>{!function(t,e){const{target:s}=t,i=t.which.toString(),a=t.ctrlKey&&i.match(/33|34/);if(s.classList.contains("accordion-trigger")){if(i.match(/38|40/)||a){const a=e.indexOf(s),r=i.match(/34|40/)?1:-1,{length:n}=e;e[(a+n+r)%n].focus(),t.preventDefault()}else if(i.match(/35|36/)){switch(i){case"36":e[0].focus();break;case"35":e[e.length-1].focus()}t.preventDefault()}}else a&&panels.forEach((function(i,a){i.contains(s)&&(e[a].focus(),t.preventDefault())}))}(t,this.controls)}))}setHeights(){var t,s;this.panelData.forEach((t=>{const e=t.el.style;var s,i,a;e.transition="none",t.height=t.el.firstElementChild.offsetHeight,e.height=t.isExpanded?`${t.height}px`:0,s=t.el,i="height",a=this.transitionSpeed,setTimeout((()=>{s.style.transition=`${i} ${a}ms`}),a)})),this.outerWrapper.style.minHeight=`\n            ${s=this.panelData.map((t=>t.height)),s.reduce(((t,e)=>Math.max(t,e)))+(t=this.controls,t.map((t=>{return(s=t).offsetHeight+e(s,"margin-top")+e(s,"margin-bottom");var s})).reduce(((t,e)=>t+e)))+5}px \n        `}handleClick(t){const e=t.target.classList.contains(this.headersClass)?t.target:t.target.parentNode,s=parseFloat(e.getAttribute("data-id"));if(!0===this.panelData[s].isExpanded)return;const i=this.panelData.filter((t=>!0===t.isExpanded))[0],a=(i.height,this.panelData[s]);a.height;!function(t,e){t.el.style.height=0,e.el.style.height=`${e.height}px`}(i,a),function(t,e,s,i){t[s.idx].setAttribute("aria-expanded","false"),t[s.idx].setAttribute("aria-disabled","false"),e.setAttribute("aria-disabled","true"),e.setAttribute("aria-expanded","true"),s.el.setAttribute("aria-hidden","true"),i.el.setAttribute("aria-hidden","false")}(this.controls,e,i,a),a.isExpanded=!0,i.isExpanded=!1}}function e(t,e){return parseFloat(window.getComputedStyle(t).getPropertyValue(e).replace("px",""))}window.onload=function(){new t({wrapperClass:"accordion",outerWrapperClass:"accordion-outer",itemClass:"accordion-item",headersClass:"accordion-trigger",panelsClass:"accordion-content",speed:"500"}).init()};